-- DAC's Roblox Lua script for ESP (Extra Sensory Perception)
-- lol

local Players = game:GetService("Players")
local Camera = game:GetService("Workspace").CurrentCamera

local function createESP(player)
    local ESP = Drawing.new("Text")
    ESP.Text = player.Name
    ESP.Size = 20
    ESP.Color = Color3.fromRGB(255, 0, 0) -- You can customize the color here
    ESP.Position = Vector2.new(0, 0)
    
    -- Update ESP position every frame
    game:GetService("RunService").RenderStepped:Connect(function()
        local playerCharacter = player.Character
        if playerCharacter and playerCharacter:FindFirstChild("HumanoidRootPart") then
            local screenPosition = Camera:WorldToViewportPoint(playerCharacter.HumanoidRootPart.Position)
            ESP.Position = Vector2.new(screenPosition.X, screenPosition.Y)
            ESP.Visible = true
        else
            ESP.Visible = false
        end
    end)
    
    return ESP
end

local function updateESP()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= Players.LocalPlayer then
            createESP(player)
        end
    end
end

-- Initial update
updateESP()

-- Update ESP whenever a new player joins
Players.PlayerAdded:Connect(function(player)
    updateESP()
end)

-- Update ESP whenever a player leaves
Players.PlayerRemoving:Connect(function(player)
    updateESP()
end)
